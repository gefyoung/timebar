import { Construct } from "constructs";
import * as s3 from "aws-cdk-lib/aws-s3";
import { Queue } from "./Queue";
import { Topic } from "./Topic";
import { SSTConstruct } from "./Construct";
import { Function as Fn, FunctionProps, FunctionDefinition } from "./Function";
import { Permissions } from "./util/permission";
export interface BucketProps {
    readonly s3Bucket?: s3.Bucket | s3.BucketProps;
    readonly notifications?: (FunctionDefinition | BucketFunctionNotificationProps | Queue | BucketQueueNotificationProps | Topic | BucketTopicNotificationProps)[];
    readonly defaultFunctionProps?: FunctionProps;
}
export interface BucketNotificationProps {
    readonly events?: s3.EventType[];
    readonly filters?: s3.NotificationKeyFilter[];
}
export interface BucketFunctionNotificationProps {
    readonly function: FunctionDefinition;
    readonly notificationProps?: BucketNotificationProps;
}
export interface BucketQueueNotificationProps {
    readonly queue: Queue;
    readonly notificationProps?: BucketNotificationProps;
}
export interface BucketTopicNotificationProps {
    readonly topic: Topic;
    readonly notificationProps?: BucketNotificationProps;
}
export declare class Bucket extends Construct implements SSTConstruct {
    readonly s3Bucket: s3.Bucket;
    private readonly notifications;
    private readonly permissionsAttachedForAllNotifications;
    private readonly defaultFunctionProps?;
    constructor(scope: Construct, id: string, props?: BucketProps);
    get bucketArn(): string;
    get bucketName(): string;
    get notificationFunctions(): Fn[];
    addNotifications(scope: Construct, notifications: (FunctionDefinition | BucketFunctionNotificationProps | Queue | BucketQueueNotificationProps | Topic | BucketTopicNotificationProps)[]): void;
    attachPermissions(permissions: Permissions): void;
    attachPermissionsToNotification(index: number, permissions: Permissions): void;
    getConstructMetadata(): {
        type: "Bucket";
        data: {
            name: string;
            notifications: ({
                node: string;
                stack: string;
            } | undefined)[];
        };
    };
    private addNotification;
    private addQueueNotification;
    private addTopicNotification;
    private addFunctionNotification;
}
